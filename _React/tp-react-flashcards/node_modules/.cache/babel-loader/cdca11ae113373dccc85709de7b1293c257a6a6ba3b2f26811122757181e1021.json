{"ast":null,"code":"var _jsxFileName = \"D:\\\\Workspace\\\\_React\\\\tp-react-flashcards\\\\src\\\\routes\\\\flashCards\\\\FlashCardForm.jsx\",\n  _s = $RefreshSig$();\nimport { useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate, useParams, useSearchParams } from \"react-router-dom\";\nimport { addFlashcard, deleteFlashcard, editFlashcard } from \"./FlashCardsSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlashCardForm = () => {\n  _s();\n  var _searchParams$get;\n  const {\n    flashcardId\n  } = useParams();\n  const flashcard = useSelector(state => state.flashcards.flashcards).find(f => f.id == flashcardId);\n  const flashcards = useSelector(state => state.flashcards.flashcards);\n  const [searchParams] = useSearchParams();\n  const mode = (_searchParams$get = searchParams.get('mode')) !== null && _searchParams$get !== void 0 ? _searchParams$get : 'add';\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const questionRef = useRef();\n  const answerRef = useRef();\n  const submitFormHandler = async e => {\n    e.preventDefault();\n    if (mode === 'delete') {\n      await dispatch(deleteFlashcard(flashcardId));\n    } else {\n      const id = flashcards.length + 1;\n      const question = questionRef.current.value;\n      const answer = answerRef.current.value;\n      const flashcardValues = {\n        id,\n        question,\n        answer\n      };\n      if (mode === 'add') {\n        await dispatch(addFlashcard(flashcardValues));\n      } else if (mode === 'edit') {\n        await dispatch(editFlashcard({\n          id: flashcardId,\n          ...flashcardValues\n        }));\n      }\n    }\n    navigate(`/`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: submitFormHandler,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"question\",\n        className: \"form-label\",\n        children: \"Question: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        ref: questionRef,\n        required: mode !== 'delete',\n        disabled: mode === 'delete',\n        ref: questionRef,\n        defaultValue: flashcard === null || flashcard === void 0 ? void 0 : flashcard.question,\n        className: \"form-control\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"answer\",\n        className: \"form-label\",\n        children: \"R\\xE9ponse: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: answerRef,\n        required: mode !== 'delete',\n        disabled: mode === 'delete',\n        ref: answerRef,\n        defaultValue: flashcard === null || flashcard === void 0 ? void 0 : flashcard.answer,\n        className: \"form-control\",\n        cols: 30,\n        rows: 10,\n        style: {\n          resize: \"none\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-end\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `btn btn-${mode === 'delete' ? 'danger' : mode === 'edit' ? 'warning' : 'success'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: `bi bi-${mode === 'delete' ? 'trash' : mode === 'edit' ? 'pencil-square' : 'plus-circle'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), \" \", mode === 'delete' ? 'Confirmer' : mode === 'edit' ? 'Editer' : 'Envoyer']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(FlashCardForm, \"rHRCqym4GuYf8mS9bok0rH89//s=\", false, function () {\n  return [useParams, useSelector, useSelector, useSearchParams, useDispatch, useNavigate];\n});\n_c = FlashCardForm;\nexport default FlashCardForm;\nvar _c;\n$RefreshReg$(_c, \"FlashCardForm\");","map":{"version":3,"names":["useRef","useDispatch","useSelector","useNavigate","useParams","useSearchParams","addFlashcard","deleteFlashcard","editFlashcard","jsxDEV","_jsxDEV","FlashCardForm","_s","_searchParams$get","flashcardId","flashcard","state","flashcards","find","f","id","searchParams","mode","get","dispatch","navigate","questionRef","answerRef","submitFormHandler","e","preventDefault","length","question","current","value","answer","flashcardValues","onSubmit","children","className","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","ref","required","disabled","defaultValue","cols","rows","style","resize","_c","$RefreshReg$"],"sources":["D:/Workspace/_React/tp-react-flashcards/src/routes/flashCards/FlashCardForm.jsx"],"sourcesContent":["import { useRef } from \"react\"\r\nimport {useDispatch , useSelector} from \"react-redux\"\r\nimport {useNavigate , useParams , useSearchParams} from \"react-router-dom\";\r\nimport {addFlashcard , deleteFlashcard , editFlashcard} from \"./FlashCardsSlice\";\r\n\r\nconst FlashCardForm = () => {\r\n\r\n    const {flashcardId} = useParams()\r\n   const flashcard = useSelector(state=> state.flashcards.flashcards).find(f => f.id == flashcardId)\r\n    const flashcards = useSelector(state => state.flashcards.flashcards)\r\n\r\n    const [searchParams] = useSearchParams()\r\n    const mode = searchParams.get('mode') ?? 'add'\r\n\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n\r\n    const questionRef = useRef()\r\n    const answerRef = useRef()\r\n\r\n  const submitFormHandler = async (e) => {\r\n        e.preventDefault();\r\n      if (mode === 'delete') {\r\n          await dispatch(deleteFlashcard(flashcardId))\r\n      } else {\r\n          const id = flashcards.length+1\r\n          const question = questionRef.current.value\r\n          const answer  = answerRef.current.value\r\n\r\n\r\n          const flashcardValues = {\r\n              id,\r\n              question,\r\n              answer\r\n          }\r\n\r\n          if (mode === 'add') {\r\n\r\n              await dispatch(addFlashcard(flashcardValues))\r\n          } else if (mode === 'edit') {\r\n              await dispatch(editFlashcard({id: flashcardId, ...flashcardValues}))\r\n          }\r\n      }\r\n\r\n      navigate(`/`)\r\n  }\r\n\r\n       return  (\r\n    <form onSubmit={submitFormHandler}>\r\n      <div className=\"mb-3\">\r\n        <label htmlFor=\"question\" className=\"form-label\">Question: </label>\r\n        <input type=\"text\" ref={questionRef} required={mode !== 'delete'} disabled={mode === 'delete'} ref={questionRef} defaultValue={flashcard?.question} className=\"form-control\" />\r\n      </div>\r\n      <div className=\"mb-3\">\r\n        <label htmlFor=\"answer\" className=\"form-label\">RÃ©ponse: </label>\r\n        <textarea ref={answerRef} required={mode !== 'delete'} disabled={mode === 'delete'} ref={answerRef} defaultValue={flashcard?.answer} className=\"form-control\" cols={30} rows={10} style={{resize: \"none\"}}></textarea>\r\n      </div>\r\n      <div className=\"text-end\">\r\n        <button className={`btn btn-${mode === 'delete'? 'danger' : mode === 'edit' ? 'warning' : 'success'}`}>\r\n          <i className={`bi bi-${mode === 'delete' ? 'trash' : mode === 'edit' ? 'pencil-square' : 'plus-circle'}`}></i> {mode === 'delete' ? 'Confirmer' : mode === 'edit' ? 'Editer' : 'Envoyer'}\r\n          </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default FlashCardForm"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}